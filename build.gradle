group = 'com.bugvm'
version = '1.0.0'

buildscript {
    repositories {
        mavenLocal()
        mavenCentral()
        maven { url 'https://oss.sonatype.org/content/repositories/snapshots' }
    }

    dependencies {
        classpath 'com.bugvm:bugvm-gradle:1.2.1-SNAPSHOT'
    }
}

apply plugin: 'application'
apply plugin: 'groovy'
apply plugin: 'scala'
apply plugin: 'bugvm'

sourceCompatibility = 1.7
targetCompatibility = 1.7

//use this for Java Example
mainClassName = "FireJava"

//use this for Groovy Example
//mainClassName = "FireGroovy"

//use this for Scala Example
//mainClassName = "FireScala"

repositories {
    mavenLocal()
    mavenCentral()
    maven { url 'https://oss.sonatype.org/content/repositories/snapshots' }
}

dependencies {

    compile localGroovy()
    compile 'org.scala-lang:scala-library:2.11.8'

}

task wrapper(type: Wrapper) {
    gradleVersion = '3.2'
}

launchConsole {
    dependsOn build
    doLast {
        copy {
            from("build/bugvm.tmp/$mainClassName")
            into "bin"
        }
        println "binary executable is 'bin/$mainClassName'"
    }
}

clean {
    delete 'bin'
}